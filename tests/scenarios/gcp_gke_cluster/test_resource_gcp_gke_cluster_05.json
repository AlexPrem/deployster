{
    "description": "Test updating master version of GKE cluster.",
    "actual": {
        "gke_server_config": {
            "validMasterVersions": [
                "1.6", "1.7", "1.8"
            ],
            "validNodeVersions": [
                "1.6", "1.7", "1.8"
            ]
        },
        "gke_clusters": {
            "prj-europe-west1-a-test": {
                "status": "RUNNING",
                "zone": "europe-west1-a",
                "locations": [ "europe-west1-a" ],
                "currentMasterVersion": "1.7",
                "currentNodeVersion": "1.8",
                "monitoringService": "monitoring.googleapis.com",
                "loggingService": "logging.googleapis.com",
                "masterAuth": {
                    "clusterCaCertificate": "abcdefghijklmnopqrstuvwxyz"
                },
                "endpoint": "http://1.2.3.4",
                "nodePools": [
                    {
                        "name": "pool1",
                        "status": "RUNNING",
                        "version": "1.8",
                        "config": {
                            "oauthScopes": [
                                "https://www.googleapis.com/auth/compute",
                                "https://www.googleapis.com/auth/devstorage.read_only",
                                "https://www.googleapis.com/auth/logging.write",
                                "https://www.googleapis.com/auth/monitoring"
                            ],
                            "preemptible": true,
                            "diskSizeGb": 20
                        },
                        "management": {
                            "autoRepair": true
                        },
                        "autoscaling": {
                            "enabled": true,
                            "minNodeCount": 1,
                            "maxNodeCount": 1
                        }
                    }
                ]
            }
        }
    },
    "config": {
        "project_id": "prj",
        "zone": "europe-west1-a",
        "name": "test",
        "description": "test cluster",
        "version": "1.8",
        "node_pools": [
            {
                "name": "pool1"
            }
        ]
    },
    "expected": {
        "status": "STALE",
        "staleState": {
            "status": "RUNNING",
            "zone": "europe-west1-a",
            "locations": [ "europe-west1-a" ],
            "currentMasterVersion": "1.7",
            "currentNodeVersion": "1.8",
            "monitoringService": "monitoring.googleapis.com",
            "loggingService": "logging.googleapis.com",
            "masterAuth": {
                "clusterCaCertificate": "abcdefghijklmnopqrstuvwxyz"
            },
            "endpoint": "http://1.2.3.4",
            "nodePools": [
                {
                    "name": "pool1",
                    "status": "RUNNING",
                    "version": "1.8",
                    "config": {
                        "oauthScopes": [
                            "https://www.googleapis.com/auth/compute",
                            "https://www.googleapis.com/auth/devstorage.read_only",
                            "https://www.googleapis.com/auth/logging.write",
                            "https://www.googleapis.com/auth/monitoring"
                        ],
                        "preemptible": true,
                        "diskSizeGb": 20
                    },
                    "management": {
                        "autoRepair": true
                    },
                    "autoscaling": {
                        "enabled": true,
                        "minNodeCount": 1,
                        "maxNodeCount": 1
                    }
                }
            ]
        },
        "actions": [
            {
                "name": "update-cluster-master-version",
                "description": "Update master version for cluster 'test'",
                "args": [ "update_cluster_master_version" ]
            }
        ]
    }
}
